# 2강 파이썬 문법

# Summary

- 문자열, List, Tuple, Dictionary 에서 사용할 수 있는 함수들
- 파이썬의 생성자 소멸자 `__init__` , `__del__`
- 파이썬에서의 `this` = `self`
- numpy 에서의 수치 연산 함수
- pandas 에서의 데이터 프로세싱 방법

# 기초

[문자열](2%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%91%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8A%E1%85%A5%E1%86%AB%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%87%E1%85%A5%E1%86%B8%20ee6b7ad0ea7241899a43cc42d24ddfab/%E1%84%86%E1%85%AE%E1%86%AB%E1%84%8C%E1%85%A1%E1%84%8B%E1%85%A7%E1%86%AF%209474609407794526938d4ae40ca141c5.md)

[[python] List](2%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%91%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8A%E1%85%A5%E1%86%AB%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%87%E1%85%A5%E1%86%B8%20ee6b7ad0ea7241899a43cc42d24ddfab/%5Bpython%5D%20List%20556592c650ea43459cf50ff343882887.md)

[[python] Dictionary](2%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%91%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8A%E1%85%A5%E1%86%AB%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%87%E1%85%A5%E1%86%B8%20ee6b7ad0ea7241899a43cc42d24ddfab/%5Bpython%5D%20Dictionary%20f7375daaf3da487f8224ce841fe20b98.md)

[[python] Set](2%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%91%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8A%E1%85%A5%E1%86%AB%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%87%E1%85%A5%E1%86%B8%20ee6b7ad0ea7241899a43cc42d24ddfab/%5Bpython%5D%20Set%2086c9b0d559364f7f8aeb4cb838aaf673.md)

[[python] class](2%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%91%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8A%E1%85%A5%E1%86%AB%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%87%E1%85%A5%E1%86%B8%20ee6b7ad0ea7241899a43cc42d24ddfab/%5Bpython%5D%20class%2036e54c69ef2744b196398c6ec8fdc5df.md)

# numpy

```python
import numpy as np

a = np.array([1, 2, 3])  # rank=1 shape = (3,)
print (type(a))            
print (a.shape)            
print (a[0], a[1], a[2])   
a[0] = (5)                 # 요소를 변경
print (a)                  

b = np.array([[1,2,3],[4,5,6]])   # rank=2 shape = (2, 3)
print (b.shape)                     
print (b[0, 0], b[0, 1], b[1, 0])
```

### Transpose

```python
import numpy as np

x = np.array([[1,2], [3,4]])
print (x)    # 출력 "[[1 2]
             #        [3 4]]"
print (x.T)  # 출력 "[[1 3]
           #          [2 4]]"

# rank 1인 배열을 전치할 경우 아무 일도 일어나지 않음
v = np.array([1,2,3])
print (v)    # 출력 "[1 2 3]"
print (v.T)  # 출력 "[1 2 3]"

# 2차원 배열
v = np.array([[1,2,3]])
print (v)    # 출력 "[1 2 3]"
print (v.T)  # 출력 "[1 2 3]"
```

- `x.T` 대신에 `np.transpose(x)` 도 사용가능하다.

### reshape()

```python
# 차원 변경 함수 (reshape)
import numpy as np
x = np.array([[1, 2, 3],[4, 5, 6]])
y = x.reshape((3, 2))

#print(x)
print(y)
```

- 자주 사용 할 것
- 이미지 데이터

---

# Pandas

## Series(1차원)

```python
import pandas as pd

mine   = pd.Series([10, 20, 30], index=['naver', 'sk', 'kt'])

print(mine)

for idx in mine.index:
    print(mine[idx])

for price in mine.values:
    print(price)
```

## DataFrame(2차원)

```python
import pandas as pd

raw_data = {'col0': [1, 2, 3, 4],
                        'col1': [10, 20, 30, 40],
                        'col2': [100, 200, 300, 400]}

data = pd.DataFrame(raw_data)
print(data)
print(data['col1'])
```

- DataFrame과 matrix의 차이는column name의 유무
- column 단위로 데이터를 삽입한다.
- dictionary 형태로 데이터를 저장한다.

```python
import pandas 

raw_data = {'col0': [1, 2, 3, 4],
                        'col1': [10, 20, 30, 40],
                        'col2': [100, 200, 300, 400]}

data = pandas.DataFrame(raw_data)

print(type(data['col0']))  # dataframe의 각 column은 series 객체
```

- dataframe의 각 column은 series 객체

### column 추출

```python
import pandas as pd
# 키, 몸무게, 유형 데이터프레임 생성하기
tbl = pd.DataFrame({
    "weight": [ 80.0, 70.4, 65.5, 45.9, 51.2 ],
    "height": [ 170,  180,  155,  143,  154  ],
    "type":   [ "f", "n", "n", "t", "t"]
})
# 몸무게 목록 추출하기
print("몸무게 목록")
print(tbl["weight"][2:4])
# 몸무게와 키 목록 추출하기
print("몸무게와 키 목록")
print(tbl[["weight","height"]])  # 2개 이상의 column을 추출할 경우 리스트를 이용
```

```python
import pandas as pd

tbl = pd.DataFrame({
    "weight": [ 80.0, 70.4, 65.5, 45.9, 51.2 ],
    "height": [ 170,  180,  155,  143,  154  ],
    "type":   [ "f", "n", "n", "t", "t"]
})

print(tbl[2:4]) # row 조건
print(tbl.iloc[2:4, :])  # 위와 동일한 결과(iloc)
print("\n")
print(tbl["weight"][2:4])  # column과 row조건이 모두 포함
                           # tbl[2:4]["weight"]와 같이 기술해도 결과는 동일
```

- `iloc`은 컬럼에 이름이 없는경우에 주로 사용 (matirx의 경우 이렇게 할 수 있음)

### DataFrame 에서의 row 조건 검색

```python
import pandas as pd
# 키, 몸무게, 유형 데이터프레임 생성하기
tbl = pd.DataFrame({
    "weight": [ 80.0, 70.4, 65.5, 45.9, 51.2, 72.5 ],
    "height": [ 170,  180,  155,  143,  154,  160  ],
    "gender": [ "f",  "m",  "m",  "f",  "f",  "m"  ]
})
print("--- height가 160 이상인 것")
print(tbl[tbl.height >= 160])
print("--- gender가 m 인 것")
print(tbl[tbl.gender == "m"])
print(tbl[tbl.height < 160])
```

### DataFrame 에서의 sort

```python
import pandas as pd

tbl = pd.DataFrame({
    "weight": [ 80.0, 70.4, 65.5, 45.9, 51.2, 72.5 ],
    "height": [ 170,  180,  155,  143,  154,  160  ],
    "gender": [ "f",  "m",  "m",  "f",  "f",  "m"  ]
})
print("--- 키로 정렬")
print(tbl.sort_values(by="height"))
print("--- 몸무게로 정렬")
print(tbl.sort_values(by="weight", ascending=False))

# DataFrame의 column 순서를 바꿀 수 있다. 
tbl = pd.DataFrame({
    "weight": [ 80.0, 70.4, 65.5, 45.9, 51.2, 72.5 ],
    "height": [ 170,  180,  155,  143,  154,  160  ],
    "gender": [ "f",  "m",  "m",  "f",  "f",  "m"  ]}, columns = ["weight", "height", "gender"])

```

### DataFrame 데이터 가공

```python
import pandas as pd

tbl = pd.DataFrame({
    "weight": [ 80.0, 70.4, 65.5, 45.9, 51.2, 72.5 ],
    "height": [ 170,  180,  155,  143,  154,  160  ],
    "gender": [ "f",  "m",  "m",  "f",  "f",  "m"  ]
})
# 키와 몸무게 정규화하기
# 최댓값과 최솟값 구하기
def norm(tbl, key):
    c = tbl[key]
    v_max = c.max()
    v_min = c.min()
    print(key, "=", v_min, "-", v_max)
    tbl[key] = (c - v_min) / (v_max - v_min)
norm(tbl, "weight")
norm(tbl, "height")
print(tbl)
```

- like feature scailing
- this process is called min-max scaling

### numpy 객체로 변환

```python
import pandas as pd

tbl = pd.DataFrame({
    "x": [1, 2, 3],
    "y": [4, 5, 6],
    "z": [7, 8, 9]
})

n = tbl.as_matrix()
#print(n)
print(n[:1,:2])
```

케라스 텐서플로 MATFLOAT LIVE

reshape 이미지를 벡터로 변경해줌