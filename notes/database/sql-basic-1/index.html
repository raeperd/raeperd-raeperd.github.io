<!doctype html><html lang=korean dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>SQL Basic Part 1 | raeperd.github.io</title>
<meta name=keywords content="database">
<meta name=description content="Motivation SQL 문법의 아주 기본적인 것부터 정리해두면 쓸 일이 많을 것 같아 정리를 시작하게 됨
Contents SQL&rsquo;s Persistence  Over 40 years old! Questioned repeatedly  90’s: Object-Oriented DBMS (OQL, etc.) 2000’s: XML (Xquery, Xpath, XSLT) 2010’s: NoSQL & MapReduce   SQL keeps re-emerging as the standard  Even Hadoop, Spark etc. mostly used via SQL May not be perfect, but it is useful    SQL Pros and Cons  Declarative!">
<meta name=author content="raeperd">
<link rel=canonical href=https://raeperd.github.io/notes/database/sql-basic-1/>
<link href=/assets/css/stylesheet.min.css rel="preload stylesheet" as=style>
<link rel=icon href=https://raeperd.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://raeperd.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://raeperd.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=https://raeperd.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://raeperd.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.86.1">
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-168674186-1','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
<meta property="og:title" content="SQL Basic Part 1">
<meta property="og:description" content="Motivation SQL 문법의 아주 기본적인 것부터 정리해두면 쓸 일이 많을 것 같아 정리를 시작하게 됨
Contents SQL&rsquo;s Persistence  Over 40 years old! Questioned repeatedly  90’s: Object-Oriented DBMS (OQL, etc.) 2000’s: XML (Xquery, Xpath, XSLT) 2010’s: NoSQL & MapReduce   SQL keeps re-emerging as the standard  Even Hadoop, Spark etc. mostly used via SQL May not be perfect, but it is useful    SQL Pros and Cons  Declarative!">
<meta property="og:type" content="article">
<meta property="og:url" content="https://raeperd.github.io/notes/database/sql-basic-1/"><meta property="og:image" content="https://raeperd.github.io/papermod-cover.png"><meta property="article:section" content="notes">
<meta property="article:published_time" content="2020-09-25T00:00:00+00:00">
<meta property="article:modified_time" content="2020-09-25T00:00:00+00:00"><meta property="og:site_name" content="raeperd.github.io">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://raeperd.github.io/papermod-cover.png">
<meta name=twitter:title content="SQL Basic Part 1">
<meta name=twitter:description content="Motivation SQL 문법의 아주 기본적인 것부터 정리해두면 쓸 일이 많을 것 같아 정리를 시작하게 됨
Contents SQL&rsquo;s Persistence  Over 40 years old! Questioned repeatedly  90’s: Object-Oriented DBMS (OQL, etc.) 2000’s: XML (Xquery, Xpath, XSLT) 2010’s: NoSQL & MapReduce   SQL keeps re-emerging as the standard  Even Hadoop, Spark etc. mostly used via SQL May not be perfect, but it is useful    SQL Pros and Cons  Declarative!">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Notes","item":"https://raeperd.github.io/notes/"},{"@type":"ListItem","position":2,"name":"SQL Basic Part 1","item":"https://raeperd.github.io/notes/database/sql-basic-1/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"SQL Basic Part 1","name":"SQL Basic Part 1","description":"Motivation SQL 문법의 아주 기본적인 것부터 정리해두면 쓸 일이 많을 것 같아 정리를 시작하게 됨\nContents SQL\u0026rsquo;s Persistence  Over 40 years old! Questioned repeatedly  90’s: Object-Oriented DBMS (OQL, etc.) 2000’s: XML (Xquery, Xpath, XSLT) 2010’s: NoSQL \u0026amp; MapReduce   SQL keeps re-emerging as the standard  Even Hadoop, Spark etc. mostly used via SQL May not be perfect, but it is useful    SQL Pros and Cons  Declarative!","keywords":["database"],"articleBody":"Motivation SQL 문법의 아주 기본적인 것부터 정리해두면 쓸 일이 많을 것 같아 정리를 시작하게 됨\nContents SQL’s Persistence  Over 40 years old! Questioned repeatedly  90’s: Object-Oriented DBMS (OQL, etc.) 2000’s: XML (Xquery, Xpath, XSLT) 2010’s: NoSQL \u0026 MapReduce   SQL keeps re-emerging as the standard  Even Hadoop, Spark etc. mostly used via SQL May not be perfect, but it is useful    SQL Pros and Cons  Declarative!  Say what you want, not how to get it   Implemented widely  With varying levels of efficiency, completeness   Constrained  Not targeted at Turing-complete tasks   General-purpose and feature-rich  many years of added featuresextensible: callouts to other languages, data sources     SQL is not targeted to be turing-complete programming language## Relational Terminology\n  Database: Set of named Relations Relation (Table):  Schema: description (“metadata”) Instance: set of data satisfying the schema   Attribute (Column, Field) Tuple (Record, Row)  Relational Tables  Schema is fixed:  Unique attribute name Atomic types (Not collections)   Instance can changes often  a multiset of “rows”    SQL Language  Two sublanguages:  DDL - Data Definition Language  Define and modify schema   DML - Data Manipulation Language  Queries can be written intuitively     RDBMS responsible for efficient evaluation  Choose and run algorithms for declarative queries  Choice of algorithm must not affect query answer         sid sname rating age     1 Fred 7 22   2 Jim 2 39   3 Nancy 8 27    CREATE TABLE Sailors ( sid INTEGER, sname CHAR(20), rating INTEGER, age FLOAT PRIMARY KEY (sid)); Primary Key column(s)  Provides a unique “lookup key” for the relation Cannot have any duplicate values Can be made up of 1 column  CREATE TABLE Sailors ( sid INTEGER, sname CHAR(20), rating INTEGER, age FLOAT CREATE TABLE Boats ( bid INTEGER, bname CHAR (20), color CHAR(10), PRIMARY KEY (bid)); CREATE TABLE Reserves ( sid INTEGER, bid INTEGER, day DATE, PRIMARY KEY (sid, bid, day), FOREIGN KEY (sid) REFERENCES Sailors, FOREIGN KEY (bid) REFERENCES Boats);  Foreign key column by definition primary key of other table\nBasic Single-Table Queries  **SELECT [DISTINCT] **FROM **[WHERE ] Simplest version is straightforward  Produce all tuples in the table that satisfy the predicate Output the expressions in the SELECT list Expression can be a column reference, or an arithmetic expression over column refs    SELCECT DISTINCT  SELECT DISTINCT S.name, S.gpa FROM students S WHERE S.dept = ‘CS’ DISTINCT specifies removal of duplicate rows before output Can refer to the students table as “S”, this is called an alias  ORDER BY SELECT S.name, S.gpa, S.age*2 AS a2FROM Students S WHERE S.dept = 'CS' ORDER BY S.gpa, S.name, a2;  ORDER BY clause specifies output to be sorted  Lexicographic ordering   Obviously must refer to columns in the output  Note the AS clause for naming output columns!    SELECT S.name, S.gpa, S.age*2 AS a2 FROM Students S WHERE S.dept = 'CS' ORDER BY S.gpa DESC, S.name ASC, a2  Ascending order by default, but can be overridden  DESC flag for descending, ASC for ascending Can mix and match, lexicographically    LIMIT SELECT S.name, S.gpa, S.age*2 AS a2 FROM Students S WHERE S.dept = 'CS' ORDER BY S.gpa DESC, S.name ASC, a2; LIMIT 3 ;  Only produces the first output rows Typically used with ORDER BY  Otherwise the output is non-deterministic Not a “pure” declarative construct in that case – output set depends on algorithm for query processing    Aggregates SELECT [DISTINCT] AVG(S.gpa) FROM Students S WHERE S.dept = 'CS'  Before producing output, compute a summary (a.k.a. an aggregate) of some arithmetic expression Produces 1 row of output  with one column in this case   Other aggregates: SUM, COUNT, MAX, MIN  GROUP BY SELECT [DISTINCT] AVG(S.gpa), S.dept FROM Students S GROUP BY S.dept  Partition table into groups with same GROUP BY column values  Can group by a list of columns   Produce an aggregate result per group  Cardinality of output = # of distinct group values   Note: can put grouping columns in SELECT list  HAVING SELECT [DISTINCT] AVG(S.gpa), S.dept FROM Students S GROUP BY S.dept HAVING COUNT(*)  2  The HAVING predicate filters groups HAVING is applied after grouping and aggregation  Hence can contain anything that could go in the SELECT list I.e. aggs or GROUP BY columns   HAVING can only be used in aggregate queries It’s an optional clause  Putting it all together SELECT S.dept, AVG(S.gpa), COUNT(*) FROM Students S WHERE S.gender = 'F' GROUP BY S.dept HAVING COUNT(*) = 2 ORDER BY S.dept;  FROM WHERE GROUP BY HAVING SELECT AVG COUNT ORDER BY  DISTINCT Aggregates Are these the same or different?\nSELECT COUNT(DISTINCT S.name) FROM Students S WHERE S.dept = 'CS'; Remove duplicated name first, and then count\nSELECT DISTINCT COUNT(S.name) FROM Students S WHERE S.dept = 'CS'; DISTINCT has no effect\nillegal query SELECT S.name, AVG(S.gpa) FROM Students S GROUP BY S.dept; SQL DML: General Single-Table Queries SELECT [DISTINCT] column expression list FROM single table [WHERE predicate] [GROUP BY column list [HAVING predicate] ] [ORDER BY column list] [LIMIT integer];  Relational model has well-defined query semantics Modern SQL extends “pure” relational model  (some extra goodies for duplicate row, non-atomic types… more in next lecture)   Typically, many ways to write a query  DBMS figures out a fast way to execute a query, regardless of how it is written.    ","wordCount":"841","inLanguage":"korean","datePublished":"2020-09-25T00:00:00Z","dateModified":"2020-09-25T00:00:00Z","author":{"@type":"Person","name":"raeperd"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://raeperd.github.io/notes/database/sql-basic-1/"},"publisher":{"@type":"Organization","name":"raeperd.github.io","logo":{"@type":"ImageObject","url":"https://raeperd.github.io/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<noscript>
<style type=text/css>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://raeperd.github.io/ accesskey=h title="raeperd.github.io (Alt + H)">raeperd.github.io</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu onscroll=menu_on_scroll()>
<li>
<a href=https://raeperd.github.io/articles title=Article>
<span>Article</span>
</a>
</li>
<li>
<a href=https://raeperd.github.io/notes title=Note>
<span>Note</span>
</a>
</li>
<li>
<a href=https://raeperd.github.io/search title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
<li>
<a href=https://raeperd.github.io/archives/ title=Archives>
<span>Archives</span>
</a>
</li></ul>
</nav>
</header>
<main class=main><article class=post-single>
<header class=post-header>
<h1 class=post-title>
SQL Basic Part 1
</h1>
<div class=post-meta>
September 25, 2020&nbsp;·&nbsp;raeperd
</div>
<br>
<ul class=post-tags>
<li><a href=https://raeperd.github.io/tags/database/>database</a></li>
</ul>
</header>
<div class=toc>
<details>
<summary accesskey=c title="(Alt + C)">
<div class=details>Table of Contents</div>
</summary>
<div class=inner><ul><li>
<a href=#motivation aria-label=Motivation>Motivation</a></li><li>
<a href=#contents aria-label=Contents>Contents</a><ul>
<li>
<a href=#sqls-persistence aria-label="SQL&amp;rsquo;s Persistence">SQL&rsquo;s Persistence</a></li><li>
<a href=#sql-pros-and-cons aria-label="SQL Pros and Cons">SQL Pros and Cons</a></li><li>
<a href=#relational-tables aria-label="Relational Tables">Relational Tables</a></li><li>
<a href=#sql-language aria-label="SQL Language">SQL Language</a></li><li>
<a href=#primary-key-columns aria-label="Primary Key column(s)">Primary Key column(s)</a></li><li>
<a href=#basic-single-table-queries aria-label="Basic Single-Table Queries">Basic Single-Table Queries</a></li><li>
<a href=#selcect-distinct aria-label="SELCECT DISTINCT">SELCECT DISTINCT</a></li><li>
<a href=#order-by aria-label="ORDER BY">ORDER BY</a></li><li>
<a href=#limit aria-label=LIMIT>LIMIT</a></li><li>
<a href=#aggregates aria-label=Aggregates>Aggregates</a></li><li>
<a href=#group-by aria-label="GROUP BY">GROUP BY</a></li><li>
<a href=#having aria-label=HAVING>HAVING</a></li><li>
<a href=#putting-it-all-together aria-label="Putting it all together">Putting it all together</a></li><li>
<a href=#distinct-aggregates aria-label="DISTINCT Aggregates">DISTINCT Aggregates</a></li><li>
<a href=#illegal-query aria-label="illegal query">illegal query</a></li></ul>
</li><li>
<a href=#sql-dml-general-single-table-queries aria-label="SQL DML: General Single-Table Queries">SQL DML: General Single-Table Queries</a></li></ul>
</div>
</details>
</div>
<div class=post-content>
<h1 id=motivation>Motivation<a hidden class=anchor aria-hidden=true href=#motivation>#</a></h1>
<p>SQL 문법의 아주 기본적인 것부터 정리해두면 쓸 일이 많을 것 같아 정리를 시작하게 됨</p>
<h1 id=contents>Contents<a hidden class=anchor aria-hidden=true href=#contents>#</a></h1>
<h2 id=sqls-persistence>SQL&rsquo;s Persistence<a hidden class=anchor aria-hidden=true href=#sqls-persistence>#</a></h2>
<ul>
<li>Over 40 years old!</li>
<li>Questioned repeatedly
<ul>
<li>90’s: Object-Oriented DBMS (OQL, etc.)</li>
<li>2000’s: XML (Xquery, Xpath, XSLT)</li>
<li>2010’s: NoSQL & MapReduce</li>
</ul>
</li>
<li>SQL keeps re-emerging as the standard
<ul>
<li>Even Hadoop, Spark etc. mostly used via SQL</li>
<li>May not be perfect, but it is useful</li>
</ul>
</li>
</ul>
<h2 id=sql-pros-and-cons>SQL Pros and Cons<a hidden class=anchor aria-hidden=true href=#sql-pros-and-cons>#</a></h2>
<ul>
<li>Declarative!
<ul>
<li>Say <em>what</em> you want, not <em>how</em> to get it</li>
</ul>
</li>
<li>Implemented widely
<ul>
<li>With varying levels of efficiency, completeness</li>
</ul>
</li>
<li>Constrained
<ul>
<li>Not targeted at Turing-complete tasks</li>
</ul>
</li>
<li>General-purpose and feature-rich
<ul>
<li>many years of added featuresextensible: callouts to other languages, data sources</li>
</ul>
</li>
</ul>
<blockquote>
<p>SQL is not targeted to be turing-complete programming language## Relational Terminology</p>
</blockquote>
<ul>
<li>Database: Set of named Relations</li>
<li>Relation (Table):
<ul>
<li>Schema: description (&ldquo;metadata&rdquo;)</li>
<li>Instance: set of data satisfying the schema</li>
</ul>
</li>
<li>Attribute (Column, Field)</li>
<li>Tuple (Record, Row)</li>
</ul>
<h2 id=relational-tables>Relational Tables<a hidden class=anchor aria-hidden=true href=#relational-tables>#</a></h2>
<ul>
<li>Schema is fixed:
<ul>
<li>Unique attribute name</li>
<li>Atomic types (Not collections)</li>
</ul>
</li>
<li>Instance can changes often
<ul>
<li>a multiset of &ldquo;rows&rdquo;</li>
</ul>
</li>
</ul>
<h2 id=sql-language>SQL Language<a hidden class=anchor aria-hidden=true href=#sql-language>#</a></h2>
<ul>
<li>Two sublanguages:
<ul>
<li>DDL - Data Definition Language
<ul>
<li>Define and modify schema</li>
</ul>
</li>
<li>DML - Data Manipulation Language
<ul>
<li>Queries can be written intuitively</li>
</ul>
</li>
</ul>
</li>
<li>RDBMS responsible for efficient evaluation
<ul>
<li>Choose and run algorithms for declarative queries
<ul>
<li>Choice of algorithm must not affect query answer</li>
</ul>
</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>sid</th>
<th>sname</th>
<th>rating</th>
<th>age</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Fred</td>
<td>7</td>
<td>22</td>
</tr>
<tr>
<td>2</td>
<td>Jim</td>
<td>2</td>
<td>39</td>
</tr>
<tr>
<td>3</td>
<td>Nancy</td>
<td>8</td>
<td>27</td>
</tr>
</tbody>
</table>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> Sailors (
	sid INTEGER,   
	sname CHAR(<span style=color:#ae81ff>20</span>), 
	rating INTEGER, 
	age FLOAT
<span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> (sid));
</code></pre></div><h2 id=primary-key-columns>Primary Key column(s)<a hidden class=anchor aria-hidden=true href=#primary-key-columns>#</a></h2>
<ul>
<li>Provides a unique “lookup key” for the relation</li>
<li>Cannot have any duplicate values</li>
<li>Can be made up of >1 column</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> Sailors (
	sid INTEGER,   
	sname CHAR(<span style=color:#ae81ff>20</span>), 
	rating INTEGER, 
	age FLOAT
<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> Boats (
	bid INTEGER,     	
	bname CHAR (<span style=color:#ae81ff>20</span>), 
	color CHAR(<span style=color:#ae81ff>10</span>), 
	<span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> (bid));
<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> Reserves (
	sid INTEGER,      
	bid INTEGER, 
	<span style=color:#66d9ef>day</span> DATE, 
<span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> (sid, bid, <span style=color:#66d9ef>day</span>),
<span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (sid) <span style=color:#66d9ef>REFERENCES</span> Sailors,
<span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (bid) <span style=color:#66d9ef>REFERENCES</span> Boats);
</code></pre></div><p> 
Foreign key column by definition primary key of other table</p>
<h2 id=basic-single-table-queries>Basic Single-Table Queries<a hidden class=anchor aria-hidden=true href=#basic-single-table-queries>#</a></h2>
<ul>
<li>**SELECT [<em>DISTINCT</em>] **FROM **[WHERE <strong>]</strong></li>
<li>Simplest version is straightforward
<ul>
<li>Produce all tuples in the table that satisfy the predicate</li>
<li>Output the expressions in the SELECT list</li>
<li>Expression can be a column reference, or an arithmetic expression over column refs</li>
</ul>
</li>
</ul>
<h2 id=selcect-distinct>SELCECT DISTINCT<a hidden class=anchor aria-hidden=true href=#selcect-distinct>#</a></h2>
<ul>
<li><strong>SELECT DISTINCT</strong> S.name, S.gpa <strong>FROM</strong> students S <strong>WHERE</strong> S.dept = &lsquo;CS&rsquo;</li>
<li>DISTINCT specifies removal of duplicate rows before output</li>
<li>Can refer to the students table as “S”, this is called an alias</li>
</ul>
<h2 id=order-by>ORDER BY<a hidden class=anchor aria-hidden=true href=#order-by>#</a></h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>SELECT</span> S.name, S.gpa, S.age<span style=color:#f92672>*</span><span style=color:#ae81ff>2</span> 
<span style=color:#66d9ef>AS</span> a2FROM Students S
<span style=color:#66d9ef>WHERE</span> S.dept <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;CS&#39;</span>
<span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span> S.gpa, S.name, a2;
</code></pre></div><ul>
<li>ORDER BY clause specifies output to be sorted
<ul>
<li><em><strong>Lexicographic ordering</strong></em></li>
</ul>
</li>
<li>Obviously must refer to columns in the output
<ul>
<li>Note the AS clause for naming output columns!</li>
</ul>
</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>SELECT</span>  S.name, S.gpa, S.age<span style=color:#f92672>*</span><span style=color:#ae81ff>2</span> <span style=color:#66d9ef>AS</span> a2
<span style=color:#66d9ef>FROM</span> Students S
<span style=color:#66d9ef>WHERE</span> S.dept <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;CS&#39;</span>
<span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span> S.gpa <span style=color:#66d9ef>DESC</span>, S.name <span style=color:#66d9ef>ASC</span>, a2
</code></pre></div><ul>
<li>Ascending order by default, but can be overridden
<ul>
<li>DESC flag for descending, ASC for ascending</li>
<li>Can mix and match, lexicographically</li>
</ul>
</li>
</ul>
<h2 id=limit>LIMIT<a hidden class=anchor aria-hidden=true href=#limit>#</a></h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>SELECT</span>  S.name, S.gpa, S.age<span style=color:#f92672>*</span><span style=color:#ae81ff>2</span> <span style=color:#66d9ef>AS</span> a2
<span style=color:#66d9ef>FROM</span> Students S
<span style=color:#66d9ef>WHERE</span> S.dept <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;CS&#39;</span>
<span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span> S.gpa <span style=color:#66d9ef>DESC</span>, S.name <span style=color:#66d9ef>ASC</span>, a2;
<span style=color:#66d9ef>LIMIT</span> <span style=color:#ae81ff>3</span> ;
</code></pre></div><ul>
<li>Only produces the first output rows</li>
<li>Typically used with ORDER BY
<ul>
<li>Otherwise the output is <em><strong>non-deterministic</strong></em></li>
<li>Not a “pure” declarative construct in that case – output set depends on algorithm for query processing</li>
</ul>
</li>
</ul>
<h2 id=aggregates>Aggregates<a hidden class=anchor aria-hidden=true href=#aggregates>#</a></h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>SELECT</span> [<span style=color:#66d9ef>DISTINCT</span>] <span style=color:#66d9ef>AVG</span>(S.gpa)
<span style=color:#66d9ef>FROM</span> Students S
<span style=color:#66d9ef>WHERE</span> S.dept <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;CS&#39;</span>
</code></pre></div><ul>
<li>Before producing output, compute a summary (a.k.a. an aggregate) of some arithmetic expression</li>
<li>Produces 1 row of output
<ul>
<li>with one column in this case</li>
</ul>
</li>
<li>Other aggregates: SUM, COUNT, MAX, MIN</li>
</ul>
<h2 id=group-by>GROUP BY<a hidden class=anchor aria-hidden=true href=#group-by>#</a></h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>SELECT</span> [<span style=color:#66d9ef>DISTINCT</span>] <span style=color:#66d9ef>AVG</span>(S.gpa), S.dept
<span style=color:#66d9ef>FROM</span> Students S
<span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> S.dept
</code></pre></div><ul>
<li>Partition table into groups with same GROUP BY column values
<ul>
<li>Can group by a list of columns</li>
</ul>
</li>
<li>Produce an aggregate result per group
<ul>
<li>Cardinality of output = # of distinct group values</li>
</ul>
</li>
<li>Note: can put grouping columns in SELECT list</li>
</ul>
<h2 id=having>HAVING<a hidden class=anchor aria-hidden=true href=#having>#</a></h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>SELECT</span> [<span style=color:#66d9ef>DISTINCT</span>] <span style=color:#66d9ef>AVG</span>(S.gpa), S.dept
<span style=color:#66d9ef>FROM</span> Students S
<span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> S.dept
<span style=color:#66d9ef>HAVING</span> <span style=color:#66d9ef>COUNT</span>(<span style=color:#f92672>*</span>) <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>2</span>
</code></pre></div><ul>
<li>The HAVING predicate filters groups</li>
<li>HAVING is applied after grouping and aggregation
<ul>
<li>Hence can contain anything that could go in the SELECT list</li>
<li>I.e. aggs or GROUP BY columns</li>
</ul>
</li>
<li>HAVING can only be used in aggregate queries</li>
<li>It’s an optional clause</li>
</ul>
<h2 id=putting-it-all-together>Putting it all together<a hidden class=anchor aria-hidden=true href=#putting-it-all-together>#</a></h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>SELECT</span> S.dept, <span style=color:#66d9ef>AVG</span>(S.gpa), <span style=color:#66d9ef>COUNT</span>(<span style=color:#f92672>*</span>)
<span style=color:#66d9ef>FROM</span> Students S
<span style=color:#66d9ef>WHERE</span> S.gender <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;F&#39;</span>
<span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> S.dept 
<span style=color:#66d9ef>HAVING</span> <span style=color:#66d9ef>COUNT</span>(<span style=color:#f92672>*</span>) <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>2</span>
<span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span> S.dept;
</code></pre></div><ol>
<li>FROM</li>
<li>WHERE</li>
<li>GROUP BY</li>
<li>HAVING</li>
<li>SELECT</li>
<li>AVG</li>
<li>COUNT</li>
<li>ORDER BY</li>
</ol>
<h2 id=distinct-aggregates>DISTINCT Aggregates<a hidden class=anchor aria-hidden=true href=#distinct-aggregates>#</a></h2>
<p>Are these the same or different?</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>SELECT</span> <span style=color:#66d9ef>COUNT</span>(<span style=color:#66d9ef>DISTINCT</span> S.name)
<span style=color:#66d9ef>FROM</span> Students S
<span style=color:#66d9ef>WHERE</span> S.dept <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;CS&#39;</span>;
</code></pre></div><p>Remove duplicated name first, and then count</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>SELECT</span> <span style=color:#66d9ef>DISTINCT</span> <span style=color:#66d9ef>COUNT</span>(S.name)
<span style=color:#66d9ef>FROM</span> Students S
<span style=color:#66d9ef>WHERE</span> S.dept <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;CS&#39;</span>;
</code></pre></div><p>DISTINCT has no effect</p>
<h2 id=illegal-query>illegal query<a hidden class=anchor aria-hidden=true href=#illegal-query>#</a></h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>SELECT</span> S.name, <span style=color:#66d9ef>AVG</span>(S.gpa)
<span style=color:#66d9ef>FROM</span> Students S
<span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> S.dept;
</code></pre></div><h1 id=sql-dml-general-single-table-queries>SQL DML: General Single-Table Queries<a hidden class=anchor aria-hidden=true href=#sql-dml-general-single-table-queries>#</a></h1>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>SELECT</span> [<span style=color:#66d9ef>DISTINCT</span>] <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>column</span> expression list<span style=color:#f92672>&gt;</span>
<span style=color:#66d9ef>FROM</span> <span style=color:#f92672>&lt;</span>single <span style=color:#66d9ef>table</span><span style=color:#f92672>&gt;</span>
[<span style=color:#66d9ef>WHERE</span> <span style=color:#f92672>&lt;</span>predicate<span style=color:#f92672>&gt;</span>]
[<span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>column</span> list<span style=color:#f92672>&gt;</span>
[<span style=color:#66d9ef>HAVING</span> <span style=color:#f92672>&lt;</span>predicate<span style=color:#f92672>&gt;</span>] ]
[<span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span> <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>column</span> list<span style=color:#f92672>&gt;</span>]
[<span style=color:#66d9ef>LIMIT</span> <span style=color:#f92672>&lt;</span>integer<span style=color:#f92672>&gt;</span>];
</code></pre></div><ul>
<li>Relational model has <strong>well-defined query semantics</strong></li>
<li>Modern SQL extends “pure” relational model
<ul>
<li><em>(some extra goodies for duplicate row, non-atomic types… more in next lecture)</em></li>
</ul>
</li>
<li>Typically, many ways to write a query
<ul>
<li>DBMS figures out a fast way to execute a query, regardless of how it is written.</li>
</ul>
</li>
</ul>
</div>
<footer class=post-footer>
<div class=share-buttons>
<a target=_blank rel="noopener noreferrer" aria-label="share SQL Basic Part 1 on twitter" href="https://twitter.com/intent/tweet/?text=SQL%20Basic%20Part%201&url=https%3a%2f%2fraeperd.github.io%2fnotes%2fdatabase%2fsql-basic-1%2f&hashtags=database"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share SQL Basic Part 1 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fraeperd.github.io%2fnotes%2fdatabase%2fsql-basic-1%2f&title=SQL%20Basic%20Part%201&summary=SQL%20Basic%20Part%201&source=https%3a%2f%2fraeperd.github.io%2fnotes%2fdatabase%2fsql-basic-1%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share SQL Basic Part 1 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fraeperd.github.io%2fnotes%2fdatabase%2fsql-basic-1%2f&title=SQL%20Basic%20Part%201"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share SQL Basic Part 1 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fraeperd.github.io%2fnotes%2fdatabase%2fsql-basic-1%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share SQL Basic Part 1 on whatsapp" href="https://api.whatsapp.com/send?text=SQL%20Basic%20Part%201%20-%20https%3a%2f%2fraeperd.github.io%2fnotes%2fdatabase%2fsql-basic-1%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share SQL Basic Part 1 on telegram" href="https://telegram.me/share/url?text=SQL%20Basic%20Part%201&url=https%3a%2f%2fraeperd.github.io%2fnotes%2fdatabase%2fsql-basic-1%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg>
</a>
</div>
</footer><div id=disqus_thread></div>
<script>(function(){var a=document,b=a.createElement('script');b.src='https://raeperd-github-io.disqus.com/embed.js',b.setAttribute('data-timestamp',+new Date),(a.head||a.body).appendChild(b)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
</article>
</main><footer class=footer>
<span>&copy; 2021 <a href=https://raeperd.github.io/>raeperd.github.io</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)">
<button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</button>
</a>
<script defer src=/assets/js/highlight.min.js onload=hljs.initHighlightingOnLoad()></script>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>